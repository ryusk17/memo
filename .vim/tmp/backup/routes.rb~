Rails.application.routes.draw do
  namespace :api do
    namespace :v2 do
      namespace :master do
        resources :stockable_items, only: [:index, :show]
        resources :orderable_items, only: [:show]
      end

      scope :pharmacy, module: 'pharmacy_api' do
        resources :pharmacies do
          resources :stocks, only: [:index, :show], params: :stockable_item_id do
            resources :logs, controller: 'stock_logs', only: [:index, :show, :create]
          end
          resources :orders, only: [:index] do
            resources :items, controller: 'order_items', only: [:index]
          end
<<<<<<< HEAD
          post :orders, to: 'orders#create'
=======
          resources :stocktakings, only: [:index] do
            resources :items, controller: 'stocktaking_items', only: [:index]
          end
          resources :regular_items, only: [:index, :create, :destroy]
>>>>>>> 1491bd0935802f5b8d3a4358808701bf85473d1e
          resources :order_candidates, only: [:index]
        end
      end
    end
  end
  root to: 'health_check#index'

  # For details on the DSL available within this file, see https://guides.rubyonrails.org/routing.html
  #
  get '*path' => 'application#render_404'
end
